2023/05/30 16:50:34 Initializing main trace
2023/05/30 16:50:34 Id: 0
2023/05/30 16:50:34 N: 4
2023/05/30 16:50:34 F: 0
2023/05/30 16:50:34 D: 3
2023/05/30 16:50:34 Logging: debug
2023/05/30 16:50:34 ChainId: chain
2023/05/30 16:50:34 Ledger: 
2023/05/30 16:50:34 MaxLeaders: 4
2023/05/30 16:50:34 BatchDurationNsec: 2000000000
2023/05/30 16:50:34 BatchSizeBytes: 2000000
2023/05/30 16:50:34 EpochTimeoutNsec: 20000000000
2023/05/30 16:50:34 BatchSignature: false
2023/05/30 16:50:34 WatermarkDist: 64
2023/05/30 16:50:34 CheckpointDist: 16
2023/05/30 16:50:34 BucketRotationPeriod: 10000000
2023/05/30 16:50:34 ClientWatermarkDist: 10000000
2023/05/30 16:50:34 Buckets: 4
2023/05/30 16:50:34 PayloadSharding: false
2023/05/30 16:50:34 SigSharding: false
2023/05/30 16:50:34 ByzantineDuplication: false
2023/05/30 16:50:34 Censoring: 0
2023/05/30 16:50:34 ByzantineDelay: 0
2023/05/30 16:50:34 ByzantineAfter: 0
2023/05/30 16:50:34 ByzantineUntil: 0
2023/05/30 16:50:34 UseTLS: true
2023/05/30 16:50:34 ServerConfigurationBuffer: 2
2023/05/30 16:50:34 SignatureVerification: true
2023/05/30 16:50:34 RequestSize: 500
2023/05/30 16:50:34 RequestsPerClient: 0
2023/05/30 16:50:34 Parallelism: 0
2023/05/30 16:50:34 RequestRate: 0
2023/05/30 16:50:34 ClientRunTime: 0
2023/05/30 16:50:34 Clients: 0
2023/05/30 16:50:34 Blocking: false
2023/05/30 16:50:34 Receivers: 0
2023/05/30 16:50:34 Destination: 0
2023/05/30 16:50:34 Self:
2023/05/30 16:50:34     Listen: 0.0.0.0:8001
2023/05/30 16:50:34     CACertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/ca.pem
2023/05/30 16:50:34     KeyFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-2.key
2023/05/30 16:50:34     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-2.pem
2023/05/30 16:50:34 Servers:
2023/05/30 16:50:34     CACertFile: 
2023/05/30 16:50:34     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-1.pem
2023/05/30 16:50:34     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-2.pem
2023/05/30 16:50:34     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-3.pem
2023/05/30 16:50:34     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-4.pem
2023/05/30 16:50:34     CertFile: 44.204.242.59:8001
2023/05/30 16:50:34     CertFile: 44.213.105.71:8001
2023/05/30 16:50:34     CertFile: 3.235.126.81:8001
2023/05/30 16:50:34     CertFile: 18.205.1.24:8001
2023/05/30 16:50:34.200619 StartServer Starting peer with id: 0
2023/05/30 16:50:34.200648 StartServer self : 0.0.0.0:8001
2023/05/30 16:50:34.200663 StartServer selfHost: 0.0.0.0
2023/05/30 16:50:34.200678 StartServer selfStartPort: 8001
2023/05/30 16:50:34.200698 NewBackend Mir backend
2023/05/30 16:50:34.201711 StopOnSignal Tracing will stop on signal.
2023/05/30 16:50:34.201850 StartServer selfPort: 8001
2023/05/30 16:50:34.201875 StartServer Self addr is 0.0.0.0:8001
2023/05/30 16:50:34.202203 New New connection for c695335f9156a89078d42638ba5269e5d02ef2f981dcf41c1eee63c8d28c1bd3
2023/05/30 16:50:34.202622 StartServer for k 0 start port is 8001
2023/05/30 16:50:34.202657 StartServer address is: 44.204.242.59:8001
2023/05/30 16:50:34.202708 StartServer for k 1 start port is 8001
2023/05/30 16:50:34.202744 StartServer address is: 44.213.105.71:8001
2023/05/30 16:50:34.202788 StartServer for k 2 start port is 8001
2023/05/30 16:50:34.202811 StartServer address is: 3.235.126.81:8001
2023/05/30 16:50:34.202852 StartServer for k 3 start port is 8001
2023/05/30 16:50:34.202889 StartServer address is: 18.205.1.24:8001
2023/05/30 16:50:34.202934 StartServer Creating dispatcher with id 0
2023/05/30 16:50:34.203510 AddConnection we are replica 1 (c69533 [44.213.105.71:8001])
2023/05/30 16:50:34.203549 AddConnection registered service
2023/05/30 16:50:34.214346 connectWorker 3
2023/05/30 16:50:34.214500 connectWorker 0
2023/05/30 16:50:34.214533 connectWorker 1
2023/05/30 16:50:34.214551 connectWorker 2
2023/05/30 16:50:34.215671 StartServer selfPort: 8002
2023/05/30 16:50:34.215946 StartServer Self addr is 0.0.0.0:8002
2023/05/30 16:50:34.222011 New New connection for c695335f9156a89078d42638ba5269e5d02ef2f981dcf41c1eee63c8d28c1bd3
2023/05/30 16:50:34.223207 StartServer for k 0 start port is 8001
2023/05/30 16:50:34.223536 StartServer address is: 44.204.242.59:8002
2023/05/30 16:50:34.224282 StartServer for k 1 start port is 8001
2023/05/30 16:50:34.224609 StartServer address is: 44.213.105.71:8002
2023/05/30 16:50:34.225381 StartServer for k 2 start port is 8001
2023/05/30 16:50:34.225715 StartServer address is: 3.235.126.81:8002
2023/05/30 16:50:34.226516 StartServer for k 3 start port is 8001
2023/05/30 16:50:34.226848 StartServer address is: 18.205.1.24:8002
2023/05/30 16:50:34.227580 StartServer Creating dispatcher with id 1
2023/05/30 16:50:34.237438 AddConnection we are replica 1 (c69533 [44.213.105.71:8002])
2023/05/30 16:50:34.237472 AddConnection registered service
2023/05/30 16:50:34.242367 StartServer selfPort: 8003
2023/05/30 16:50:34.242399 StartServer Self addr is 0.0.0.0:8003
2023/05/30 16:50:34.242624 New New connection for c695335f9156a89078d42638ba5269e5d02ef2f981dcf41c1eee63c8d28c1bd3
2023/05/30 16:50:34.242702 StartServer for k 0 start port is 8001
2023/05/30 16:50:34.242729 StartServer address is: 44.204.242.59:8003
2023/05/30 16:50:34.242778 StartServer for k 1 start port is 8001
2023/05/30 16:50:34.242803 StartServer address is: 44.213.105.71:8003
2023/05/30 16:50:34.242841 StartServer for k 2 start port is 8001
2023/05/30 16:50:34.242864 StartServer address is: 3.235.126.81:8003
2023/05/30 16:50:34.242905 StartServer for k 3 start port is 8001
2023/05/30 16:50:34.242928 StartServer address is: 18.205.1.24:8003
2023/05/30 16:50:34.242967 StartServer Creating dispatcher with id 2
2023/05/30 16:50:34.243254 AddConnection we are replica 1 (c69533 [44.213.105.71:8003])
2023/05/30 16:50:34.243284 AddConnection registered service
2023/05/30 16:50:34.256762 connectWorker 3
2023/05/30 16:50:34.256817 connectWorker 2
2023/05/30 16:50:34.256836 connectWorker 3
2023/05/30 16:50:34.256866 connectWorker 0
2023/05/30 16:50:34.256885 connectWorker 1
2023/05/30 16:50:34.256901 connectWorker 0
2023/05/30 16:50:34.256922 connectWorker 1
2023/05/30 16:50:34.256938 connectWorker 2
2023/05/30 16:50:34.311013 initBuckets s.config.Buckets is 4
2023/05/30 16:50:34.311081 New replica 0: Buckets (16) map[0:[+0 +7237005577332262213973186563042994240829374041602535252466099000494570602496] 1:[+7237005577332262213973186563042994240829374041602535252466099000494570602496 +14474011154664524427946373126085988481658748083205070504932198000989141204992] 2:[+14474011154664524427946373126085988481658748083205070504932198000989141204992 +21711016731996786641919559689128982722488122124807605757398297001483711807488] 3:[+21711016731996786641919559689128982722488122124807605757398297001483711807488 +28948022309329048855892746252171976963317496166410141009864396001978282409984] 4:[+28948022309329048855892746252171976963317496166410141009864396001978282409984 +36185027886661311069865932815214971204146870208012676262330495002472853012480] 5:[+36185027886661311069865932815214971204146870208012676262330495002472853012480 +43422033463993573283839119378257965444976244249615211514796594002967423614976] 6:[+43422033463993573283839119378257965444976244249615211514796594002967423614976 +50659039041325835497812305941300959685805618291217746767262693003461994217472] 7:[+50659039041325835497812305941300959685805618291217746767262693003461994217472 +57896044618658097711785492504343953926634992332820282019728792003956564819968] 8:[+57896044618658097711785492504343953926634992332820282019728792003956564819968 +65133050195990359925758679067386948167464366374422817272194891004451135422464] 9:[+65133050195990359925758679067386948167464366374422817272194891004451135422464 +72370055773322622139731865630429942408293740416025352524660990004945706024960] 10:[+72370055773322622139731865630429942408293740416025352524660990004945706024960 +79607061350654884353705052193472936649123114457627887777127089005440276627456] 11:[+79607061350654884353705052193472936649123114457627887777127089005440276627456 +86844066927987146567678238756515930889952488499230423029593188005934847229952] 12:[+86844066927987146567678238756515930889952488499230423029593188005934847229952 +94081072505319408781651425319558925130781862540832958282059287006429417832448] 13:[+94081072505319408781651425319558925130781862540832958282059287006429417832448 +101318078082651670995624611882601919371611236582435493534525386006923988434944] 14:[+101318078082651670995624611882601919371611236582435493534525386006923988434944 +108555083659983933209597798445644913612440610624038028786991485007418559037440] 15:[+108555083659983933209597798445644913612440610624038028786991485007418559037440 +115792089237316195423570985008687907853269984665640564039457584007913129639936]]
2023/05/30 16:50:34.315116 getBuckets replica 0: Rotation primary is 0:0
2023/05/30 16:50:34.315149 getBuckets replica 0: Shifted leaders map[0:0 1:1 2:2 3:3]
2023/05/30 16:50:34.315169 getBuckets replica 0: Offset +0
2023/05/30 16:50:34.315180 getBuckets replica 0: Buckets per leader 4
2023/05/30 16:50:34.315190 getBuckets replica 0: Remaining buckets 0
2023/05/30 16:50:34.315211 assignBuckets replica 0: Responsible for requests in buckets [0 1 2 3] in epoch 0
2023/05/30 16:50:34.315225 assignBuckets replica 0: buckets to leaders map[0:0 1:0 2:0 3:0 4:1 5:1 6:1 7:1 8:2 9:2 10:2 11:2 12:3 13:3 14:3 15:3]
2023/05/30 16:50:34.315263 assignVerificationBuckets replica 0: Verifies batches in [0, 10000000000000000000000000000000000000000000000000000000000000000)
2023/05/30 16:50:34.315287 assignPayloadBuckets replica 0: Payload for batches in [0, 10000000000000000000000000000000000000000000000000000000000000000)
2023/05/30 16:50:34.315531 cancelViewChangeTimer replica 0: cancelling view-change timeout
2023/05/30 16:50:34.315547 maybeAllowMoreProposingInstances replica 0 maybe allow more proposing instances: nextProposalToSchodeule 1, highWatermark: 64, epoch.last: 10000000, nextRotation: 10000000, min is 65
2023/05/30 16:50:34.315563 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 1
2023/05/30 16:50:34.315575 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 5
2023/05/30 16:50:34.315585 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 9
2023/05/30 16:50:34.315596 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 13
2023/05/30 16:50:34.315609 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 17
2023/05/30 16:50:34.315619 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 21
2023/05/30 16:50:34.315629 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 25
2023/05/30 16:50:34.315639 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 29
2023/05/30 16:50:34.315649 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 33
2023/05/30 16:50:34.315661 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 37
2023/05/30 16:50:34.315671 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 41
2023/05/30 16:50:34.315682 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 45
2023/05/30 16:50:34.315692 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 49
2023/05/30 16:50:34.315703 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 53
2023/05/30 16:50:34.315712 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 57
2023/05/30 16:50:34.315724 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 61
2023/05/30 16:50:34.315742 processBacklog replica 0: processing backlog for source 0
2023/05/30 16:50:34.315754 processBacklog replica 0: processing backlog for source 1
2023/05/30 16:50:34.315765 processBacklog replica 0: processing backlog for source 2
2023/05/30 16:50:34.315783 processBacklog replica 0: processing backlog for source 3
2023/05/30 16:50:34.315793 processBacklog replica 0: finished processing backlog
2023/05/30 16:50:34.315971 processBacklog replica 0: processing backlog for source 0
2023/05/30 16:50:34.316003 processBacklog replica 0: processing backlog for source 1
2023/05/30 16:50:34.316012 processBacklog replica 0: processing backlog for source 2
2023/05/30 16:50:34.316021 processBacklog replica 0: processing backlog for source 3
2023/05/30 16:50:34.316029 processBacklog replica 0: finished processing backlog
2023/05/30 16:50:35.215034 connectWorker connecting to replica 3 (e0b9b7 [18.205.1.24:8001])
2023/05/30 16:50:35.215416 connectWorker connecting to replica 0 (1100a2 [44.204.242.59:8001])
2023/05/30 16:50:35.215581 connectWorker connecting to replica 1 (c69533 [44.213.105.71:8001])
2023/05/30 16:50:35.214904 connectWorker connecting to replica 2 (333fb1 [3.235.126.81:8001])
2023/05/30 16:50:35.220900 connectWorker connection to replica 2 (333fb1 [3.235.126.81:8001]) established
2023/05/30 16:50:35.221141 connectWorker connection to replica 0 (1100a2 [44.204.242.59:8001]) established
2023/05/30 16:50:35.221364 connectWorker connection to replica 3 (e0b9b7 [18.205.1.24:8001]) established
2023/05/30 16:50:35.223126 connectWorker connection to replica 1 (c69533 [44.213.105.71:8001]) established
2023/05/30 16:50:35.257747 connectWorker connecting to replica 3 (e0b9b7 [18.205.1.24:8003])
2023/05/30 16:50:35.257968 connectWorker connecting to replica 2 (333fb1 [3.235.126.81:8002])
2023/05/30 16:50:35.258112 connectWorker connecting to replica 3 (e0b9b7 [18.205.1.24:8002])
2023/05/30 16:50:35.258277 connectWorker connecting to replica 0 (1100a2 [44.204.242.59:8002])
2023/05/30 16:50:35.258436 connectWorker connecting to replica 1 (c69533 [44.213.105.71:8002])
2023/05/30 16:50:35.258573 connectWorker connecting to replica 0 (1100a2 [44.204.242.59:8003])
2023/05/30 16:50:35.258710 connectWorker connecting to replica 1 (c69533 [44.213.105.71:8003])
2023/05/30 16:50:35.257623 connectWorker connecting to replica 2 (333fb1 [3.235.126.81:8003])
2023/05/30 16:50:35.267973 connectWorker connection to replica 3 (e0b9b7 [18.205.1.24:8003]) established
2023/05/30 16:50:35.268114 connectWorker connection to replica 2 (333fb1 [3.235.126.81:8003]) established
2023/05/30 16:50:35.268234 connectWorker connection to replica 3 (e0b9b7 [18.205.1.24:8002]) established
2023/05/30 16:50:35.268384 connectWorker connection to replica 2 (333fb1 [3.235.126.81:8002]) established
2023/05/30 16:50:35.268501 connectWorker connection to replica 0 (1100a2 [44.204.242.59:8002]) established
2023/05/30 16:50:35.269715 connectWorker connection to replica 1 (c69533 [44.213.105.71:8003]) established
2023/05/30 16:50:35.269867 connectWorker connection to replica 0 (1100a2 [44.204.242.59:8003]) established
2023/05/30 16:50:35.270779 connectWorker connection to replica 1 (c69533 [44.213.105.71:8002]) established
2023/05/30 16:50:37.270976 RunRequestProcessor Updated leader pending size
2023/05/30 16:50:37.271044 maybeSendNextBatch Maybe send next batch
2023/05/30 16:50:39.245632 handleMessage replica 0: received message from 0
2023/05/30 16:50:39.245685 handleMessage adding running instance with sequence 1
2023/05/30 16:50:39.245701 processBacklog replica 0: processing backlog for source 0
2023/05/30 16:50:39.245730 processBacklog replica 0: processing backlog for source 1
2023/05/30 16:50:39.245739 processBacklog replica 0: processing backlog for source 2
2023/05/30 16:50:39.245749 processBacklog replica 0: processing backlog for source 3
2023/05/30 16:50:39.245758 processBacklog replica 0: finished processing backlog
2023/05/30 16:50:39.245770 handlePreprepare replica 0: Received PREPREPARE 1
2023/05/30 16:50:39.245792 handlePreprepare replica 0: ignoring preprepare from self: 0
2023/05/30 16:50:39.245805 run Don't have a batchInfo for current -- returning
2023/05/30 16:50:39.245833 handleMessage replica 0: received message from 2
2023/05/30 16:50:39.245849 handleMessage Instance with sequence 1 already running -- duplicate preprepare
2023/05/30 16:50:39.265295 handleMessage replica 0: received message from 3
2023/05/30 16:50:39.265318 handleMessage Instance with sequence 1 already running -- duplicate preprepare
2023/05/30 16:50:39.285464 cutAndMaybeSend replica 0: batch timer expired: must cut a batch
2023/05/30 16:50:39.285507 cutBatch replica 0: cutting batch
2023/05/30 16:50:39.285520 popFromPending replica 0: no entries to remove from pending
2023/05/30 16:50:39.285530 popFromPending replica 0: no entries to remove from pending
2023/05/30 16:50:39.285540 popFromPending replica 0: no entries to remove from pending
2023/05/30 16:50:39.285549 popFromPending replica 0: no entries to remove from pending
2023/05/30 16:50:39.285559 cutAndMaybeSend replica 0: batch length 0
2023/05/30 16:50:39.285569 maybeSendNextBatch Maybe send next batch
2023/05/30 16:50:39.285580 proposeBatch Proposing batch with seq 1
2023/05/30 16:50:39.285599 maybeSendNextBatch Maybe send next batch
panic: Instance already present when trying to propose

goroutine 27 [running]:
github.com/IBM/mirbft/mir.(*Dispatcher).handleNewBatchToPropose(0xc00006a8a0, {0xe28330, 0x0, 0x0}, {{{}, {}, {}, 0x0}, 0x0, {0x0, ...}, ...})
	/opt/gopath/src/github.com/IBM/mirbft/mir/dispatcher.go:635 +0x3bf
github.com/IBM/mirbft/mir.(*batchEvent).Execute(0xc000102f98?, 0xc000102f60?)
	/opt/gopath/src/github.com/IBM/mirbft/mir/events.go:52 +0x8d
github.com/IBM/mirbft/mir.(*Dispatcher).Run(0xc00006a8a0)
	/opt/gopath/src/github.com/IBM/mirbft/mir/dispatcher.go:439 +0x11d
created by github.com/IBM/mirbft/backend.Backend.AddReceiver
	/opt/gopath/src/github.com/IBM/mirbft/backend/backend.go:224 +0x16a
