2023/05/30 17:40:31 Initializing main trace
2023/05/30 17:40:31 Id: 0
2023/05/30 17:40:31 N: 4
2023/05/30 17:40:31 F: 0
2023/05/30 17:40:31 D: 3
2023/05/30 17:40:31 Logging: debug
2023/05/30 17:40:31 ChainId: chain
2023/05/30 17:40:31 Ledger: 
2023/05/30 17:40:31 MaxLeaders: 4
2023/05/30 17:40:31 BatchDurationNsec: 2000000000
2023/05/30 17:40:31 BatchSizeBytes: 2000000
2023/05/30 17:40:31 EpochTimeoutNsec: 20000000000
2023/05/30 17:40:31 BatchSignature: false
2023/05/30 17:40:31 WatermarkDist: 64
2023/05/30 17:40:31 CheckpointDist: 16
2023/05/30 17:40:31 BucketRotationPeriod: 10000000
2023/05/30 17:40:31 ClientWatermarkDist: 10000000
2023/05/30 17:40:31 Buckets: 4
2023/05/30 17:40:31 PayloadSharding: false
2023/05/30 17:40:31 SigSharding: false
2023/05/30 17:40:31 ByzantineDuplication: false
2023/05/30 17:40:31 Censoring: 0
2023/05/30 17:40:31 ByzantineDelay: 0
2023/05/30 17:40:31 ByzantineAfter: 0
2023/05/30 17:40:31 ByzantineUntil: 0
2023/05/30 17:40:31 UseTLS: true
2023/05/30 17:40:31 ServerConfigurationBuffer: 2
2023/05/30 17:40:31 SignatureVerification: true
2023/05/30 17:40:31 RequestSize: 500
2023/05/30 17:40:31 RequestsPerClient: 0
2023/05/30 17:40:31 Parallelism: 0
2023/05/30 17:40:31 RequestRate: 0
2023/05/30 17:40:31 ClientRunTime: 0
2023/05/30 17:40:31 Clients: 0
2023/05/30 17:40:31 Blocking: false
2023/05/30 17:40:31 Receivers: 0
2023/05/30 17:40:31 Destination: 0
2023/05/30 17:40:31 Self:
2023/05/30 17:40:31     Listen: 0.0.0.0:8001
2023/05/30 17:40:31     CACertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/ca.pem
2023/05/30 17:40:31     KeyFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-3.key
2023/05/30 17:40:31     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-3.pem
2023/05/30 17:40:31 Servers:
2023/05/30 17:40:31     CACertFile: 
2023/05/30 17:40:31     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-1.pem
2023/05/30 17:40:31     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-2.pem
2023/05/30 17:40:31     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-3.pem
2023/05/30 17:40:31     CertFile: /opt/gopath/src/github.com/IBM/mirbft/deployment/config/certs/ecdsa/server-4.pem
2023/05/30 17:40:31     CertFile: 44.204.242.59:8001
2023/05/30 17:40:31     CertFile: 44.213.105.71:8001
2023/05/30 17:40:31     CertFile: 3.235.126.81:8001
2023/05/30 17:40:31     CertFile: 18.205.1.24:8001
2023/05/30 17:40:31.122425 StartServer Starting peer with id: 0
2023/05/30 17:40:31.122457 StartServer self : 0.0.0.0:8001
2023/05/30 17:40:31.122472 StartServer selfHost: 0.0.0.0
2023/05/30 17:40:31.122487 StartServer selfStartPort: 8001
2023/05/30 17:40:31.122507 NewBackend Mir backend
2023/05/30 17:40:31.123709 StopOnSignal Tracing will stop on signal.
2023/05/30 17:40:31.123851 StartServer selfPort: 8001
2023/05/30 17:40:31.123876 StartServer Self addr is 0.0.0.0:8001
2023/05/30 17:40:31.124107 New New connection for a005d479a5ac37d94de3dff88211cc48d195761922fd238844f15ca44451edbb
2023/05/30 17:40:31.124533 StartServer for k 0 start port is 8001
2023/05/30 17:40:31.161578 StartServer address is: 44.204.242.59:8001
2023/05/30 17:40:31.161720 StartServer for k 1 start port is 8001
2023/05/30 17:40:31.161771 StartServer address is: 44.213.105.71:8001
2023/05/30 17:40:31.161817 StartServer for k 2 start port is 8001
2023/05/30 17:40:31.161840 StartServer address is: 3.235.126.81:8001
2023/05/30 17:40:31.161906 StartServer for k 3 start port is 8001
2023/05/30 17:40:31.161929 StartServer address is: 18.205.1.24:8001
2023/05/30 17:40:31.161966 StartServer Creating dispatcher with id 0
2023/05/30 17:40:31.162194 AddConnection we are replica 2 (a005d4 [3.235.126.81:8001])
2023/05/30 17:40:31.162235 AddConnection registered service
2023/05/30 17:40:31.242599 connectWorker 2
2023/05/30 17:40:31.242893 connectWorker 3
2023/05/30 17:40:31.242922 connectWorker 0
2023/05/30 17:40:31.242979 connectWorker 1
2023/05/30 17:40:31.563084 StartServer selfPort: 8002
2023/05/30 17:40:31.563154 StartServer Self addr is 0.0.0.0:8002
2023/05/30 17:40:31.563415 New New connection for a005d479a5ac37d94de3dff88211cc48d195761922fd238844f15ca44451edbb
2023/05/30 17:40:31.563528 StartServer for k 0 start port is 8001
2023/05/30 17:40:31.563557 StartServer address is: 44.204.242.59:8002
2023/05/30 17:40:31.563603 StartServer for k 1 start port is 8001
2023/05/30 17:40:31.563627 StartServer address is: 44.213.105.71:8002
2023/05/30 17:40:31.563669 StartServer for k 2 start port is 8001
2023/05/30 17:40:31.563692 StartServer address is: 3.235.126.81:8002
2023/05/30 17:40:31.563729 StartServer for k 3 start port is 8001
2023/05/30 17:40:31.563751 StartServer address is: 18.205.1.24:8002
2023/05/30 17:40:31.563788 StartServer Creating dispatcher with id 1
2023/05/30 17:40:31.563942 AddConnection we are replica 2 (a005d4 [3.235.126.81:8002])
2023/05/30 17:40:31.563968 AddConnection registered service
2023/05/30 17:40:31.604526 StartServer selfPort: 8003
2023/05/30 17:40:31.604639 StartServer Self addr is 0.0.0.0:8003
2023/05/30 17:40:31.681773 connectWorker 3
2023/05/30 17:40:31.681877 connectWorker 0
2023/05/30 17:40:31.681897 connectWorker 1
2023/05/30 17:40:31.681914 connectWorker 2
2023/05/30 17:40:31.682156 New New connection for a005d479a5ac37d94de3dff88211cc48d195761922fd238844f15ca44451edbb
2023/05/30 17:40:31.682252 StartServer for k 0 start port is 8001
2023/05/30 17:40:31.682281 StartServer address is: 44.204.242.59:8003
2023/05/30 17:40:31.682347 StartServer for k 1 start port is 8001
2023/05/30 17:40:31.682372 StartServer address is: 44.213.105.71:8003
2023/05/30 17:40:31.682415 StartServer for k 2 start port is 8001
2023/05/30 17:40:31.682438 StartServer address is: 3.235.126.81:8003
2023/05/30 17:40:31.682476 StartServer for k 3 start port is 8001
2023/05/30 17:40:31.682502 StartServer address is: 18.205.1.24:8003
2023/05/30 17:40:31.682540 StartServer Creating dispatcher with id 2
2023/05/30 17:40:31.682740 AddConnection we are replica 2 (a005d4 [3.235.126.81:8003])
2023/05/30 17:40:31.682769 AddConnection registered service
2023/05/30 17:40:31.762019 connectWorker 3
2023/05/30 17:40:31.762186 connectWorker 0
2023/05/30 17:40:31.762298 connectWorker 1
2023/05/30 17:40:31.762406 connectWorker 2
2023/05/30 17:40:32.282049 connectWorker connecting to replica 2 (a005d4 [3.235.126.81:8001])
2023/05/30 17:40:32.282441 connectWorker connecting to replica 3 (08582b [18.205.1.24:8001])
2023/05/30 17:40:32.282550 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8001])
2023/05/30 17:40:32.282666 connectWorker connecting to replica 1 (ab6bc9 [44.213.105.71:8001])
2023/05/30 17:40:32.360045 initBuckets s.config.Buckets is 4
2023/05/30 17:40:32.360116 New replica 0: Buckets (16) map[0:[+0 +7237005577332262213973186563042994240829374041602535252466099000494570602496] 1:[+7237005577332262213973186563042994240829374041602535252466099000494570602496 +14474011154664524427946373126085988481658748083205070504932198000989141204992] 2:[+14474011154664524427946373126085988481658748083205070504932198000989141204992 +21711016731996786641919559689128982722488122124807605757398297001483711807488] 3:[+21711016731996786641919559689128982722488122124807605757398297001483711807488 +28948022309329048855892746252171976963317496166410141009864396001978282409984] 4:[+28948022309329048855892746252171976963317496166410141009864396001978282409984 +36185027886661311069865932815214971204146870208012676262330495002472853012480] 5:[+36185027886661311069865932815214971204146870208012676262330495002472853012480 +43422033463993573283839119378257965444976244249615211514796594002967423614976] 6:[+43422033463993573283839119378257965444976244249615211514796594002967423614976 +50659039041325835497812305941300959685805618291217746767262693003461994217472] 7:[+50659039041325835497812305941300959685805618291217746767262693003461994217472 +57896044618658097711785492504343953926634992332820282019728792003956564819968] 8:[+57896044618658097711785492504343953926634992332820282019728792003956564819968 +65133050195990359925758679067386948167464366374422817272194891004451135422464] 9:[+65133050195990359925758679067386948167464366374422817272194891004451135422464 +72370055773322622139731865630429942408293740416025352524660990004945706024960] 10:[+72370055773322622139731865630429942408293740416025352524660990004945706024960 +79607061350654884353705052193472936649123114457627887777127089005440276627456] 11:[+79607061350654884353705052193472936649123114457627887777127089005440276627456 +86844066927987146567678238756515930889952488499230423029593188005934847229952] 12:[+86844066927987146567678238756515930889952488499230423029593188005934847229952 +94081072505319408781651425319558925130781862540832958282059287006429417832448] 13:[+94081072505319408781651425319558925130781862540832958282059287006429417832448 +101318078082651670995624611882601919371611236582435493534525386006923988434944] 14:[+101318078082651670995624611882601919371611236582435493534525386006923988434944 +108555083659983933209597798445644913612440610624038028786991485007418559037440] 15:[+108555083659983933209597798445644913612440610624038028786991485007418559037440 +115792089237316195423570985008687907853269984665640564039457584007913129639936]]
2023/05/30 17:40:32.400938 getBuckets replica 0: Rotation primary is 0:0
2023/05/30 17:40:32.400979 getBuckets replica 0: Shifted leaders map[0:0 1:1 2:2 3:3]
2023/05/30 17:40:32.401003 getBuckets replica 0: Offset +0
2023/05/30 17:40:32.401019 getBuckets replica 0: Buckets per leader 4
2023/05/30 17:40:32.401030 getBuckets replica 0: Remaining buckets 0
2023/05/30 17:40:32.401050 assignBuckets replica 0: Responsible for requests in buckets [0 1 2 3] in epoch 0
2023/05/30 17:40:32.401063 assignBuckets replica 0: buckets to leaders map[0:0 1:0 2:0 3:0 4:1 5:1 6:1 7:1 8:2 9:2 10:2 11:2 12:3 13:3 14:3 15:3]
2023/05/30 17:40:32.401096 assignVerificationBuckets replica 0: Verifies batches in [0, 10000000000000000000000000000000000000000000000000000000000000000)
2023/05/30 17:40:32.401123 assignPayloadBuckets replica 0: Payload for batches in [0, 10000000000000000000000000000000000000000000000000000000000000000)
2023/05/30 17:40:32.401442 cancelViewChangeTimer replica 0: cancelling view-change timeout
2023/05/30 17:40:32.401459 maybeAllowMoreProposingInstances replica 0 maybe allow more proposing instances: nextProposalToSchodeule 1, highWatermark: 64, epoch.last: 10000000, nextRotation: 10000000, min is 65
2023/05/30 17:40:32.401475 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 1
2023/05/30 17:40:32.401487 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 5
2023/05/30 17:40:32.401497 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 9
2023/05/30 17:40:32.401509 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 13
2023/05/30 17:40:32.401520 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 17
2023/05/30 17:40:32.401531 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 21
2023/05/30 17:40:32.401541 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 25
2023/05/30 17:40:32.401551 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 29
2023/05/30 17:40:32.401561 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 33
2023/05/30 17:40:32.401572 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 37
2023/05/30 17:40:32.401583 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 41
2023/05/30 17:40:32.401597 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 45
2023/05/30 17:40:32.401625 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 49
2023/05/30 17:40:32.401637 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 53
2023/05/30 17:40:32.401647 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 57
2023/05/30 17:40:32.401671 maybeAllowMoreProposingInstances replica 0 can now propose instance with sequence 61
2023/05/30 17:40:32.401698 processBacklog replica 0: processing backlog for source 0
2023/05/30 17:40:32.401710 processBacklog replica 0: processing backlog for source 1
2023/05/30 17:40:32.401719 processBacklog replica 0: processing backlog for source 2
2023/05/30 17:40:32.401728 processBacklog replica 0: processing backlog for source 3
2023/05/30 17:40:32.401737 processBacklog replica 0: finished processing backlog
2023/05/30 17:40:32.439804 processBacklog replica 0: processing backlog for source 0
2023/05/30 17:40:32.439861 processBacklog replica 0: processing backlog for source 1
2023/05/30 17:40:32.439877 processBacklog replica 0: processing backlog for source 2
2023/05/30 17:40:32.439892 processBacklog replica 0: processing backlog for source 3
2023/05/30 17:40:32.439901 processBacklog replica 0: finished processing backlog
2023/05/30 17:40:32.519583 connectWorker connection to replica 3 (08582b [18.205.1.24:8001]) established
2023/05/30 17:40:32.519775 connectWorker connection to replica 1 (ab6bc9 [44.213.105.71:8001]) established
2023/05/30 17:40:32.519952 connectWorker connection to replica 2 (a005d4 [3.235.126.81:8001]) established
2023/05/30 17:40:32.681976 connectWorker connecting to replica 2 (a005d4 [3.235.126.81:8002])
2023/05/30 17:40:32.682206 connectWorker connecting to replica 3 (08582b [18.205.1.24:8002])
2023/05/30 17:40:32.682335 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8002])
2023/05/30 17:40:32.682434 connectWorker connecting to replica 1 (ab6bc9 [44.213.105.71:8002])
2023/05/30 17:40:32.686791 connectWorker connection to replica 1 (ab6bc9 [44.213.105.71:8002]) established
2023/05/30 17:40:32.686971 connectWorker connection to replica 2 (a005d4 [3.235.126.81:8002]) established
2023/05/30 17:40:32.687143 connectWorker connection to replica 3 (08582b [18.205.1.24:8002]) established
2023/05/30 17:40:32.762404 connectWorker connecting to replica 1 (ab6bc9 [44.213.105.71:8003])
2023/05/30 17:40:32.762524 connectWorker connecting to replica 2 (a005d4 [3.235.126.81:8003])
2023/05/30 17:40:32.762647 connectWorker connecting to replica 3 (08582b [18.205.1.24:8003])
2023/05/30 17:40:32.762823 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8003])
2023/05/30 17:40:32.767567 connectWorker connection to replica 3 (08582b [18.205.1.24:8003]) established
2023/05/30 17:40:32.767788 connectWorker connection to replica 1 (ab6bc9 [44.213.105.71:8003]) established
2023/05/30 17:40:32.768611 connectWorker connection to replica 2 (a005d4 [3.235.126.81:8003]) established
2023/05/30 17:40:33.283004 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8001]): context deadline exceeded
2023/05/30 17:40:33.284208 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8001])
2023/05/30 17:40:33.682656 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8002]): context deadline exceeded
2023/05/30 17:40:33.682735 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8002])
2023/05/30 17:40:33.764010 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8003]): context deadline exceeded
2023/05/30 17:40:33.764094 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8003])
2023/05/30 17:40:34.284515 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8001]): context deadline exceeded
2023/05/30 17:40:34.284593 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8001])
2023/05/30 17:40:34.683035 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8002]): context deadline exceeded
2023/05/30 17:40:34.683103 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8002])
2023/05/30 17:40:34.764238 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8003]): context deadline exceeded
2023/05/30 17:40:34.764325 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8003])
2023/05/30 17:40:35.284895 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8001]): context deadline exceeded
2023/05/30 17:40:35.284990 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8001])
2023/05/30 17:40:35.683392 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8002]): context deadline exceeded
2023/05/30 17:40:35.683460 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8002])
2023/05/30 17:40:35.764648 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8003]): context deadline exceeded
2023/05/30 17:40:35.764757 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8003])
2023/05/30 17:40:36.285281 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8001]): context deadline exceeded
2023/05/30 17:40:36.285343 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8001])
2023/05/30 17:40:36.684439 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8002]): context deadline exceeded
2023/05/30 17:40:36.684502 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8002])
2023/05/30 17:40:36.765600 connectWorker could not connect to replica 0 (89ea53 [44.204.242.59:8003]): context deadline exceeded
2023/05/30 17:40:36.765688 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8003])
2023/05/30 17:40:36.911225 connectWorker connection to replica 0 (89ea53 [44.204.242.59:8001]) established
2023/05/30 17:40:36.912145 connectWorker connection to replica 0 (89ea53 [44.204.242.59:8002]) established
2023/05/30 17:40:36.991240 connectWorker connection to replica 0 (89ea53 [44.204.242.59:8003]) established
2023/05/30 17:40:36.991591 connectWorker consensus stream with replica 0 (89ea53 [44.204.242.59:8002]) broke: rpc error: code = Unknown desc = unknown peer certificate
2023/05/30 17:40:36.991742 connectWorker consensus stream with replica 0 (89ea53 [44.204.242.59:8001]) broke: rpc error: code = Unknown desc = unknown peer certificate
2023/05/30 17:40:37.070243 connectWorker consensus stream with replica 0 (89ea53 [44.204.242.59:8003]) broke: rpc error: code = Unknown desc = unknown peer certificate
2023/05/30 17:40:37.116196 connectWorker consensus stream with replica 3 (08582b [18.205.1.24:8001]) broke: rpc error: code = Unavailable desc = error reading from server: EOF
2023/05/30 17:40:37.116284 connectWorker connecting to replica 3 (08582b [18.205.1.24:8001])
2023/05/30 17:40:37.116666 connectWorker consensus stream with replica 3 (08582b [18.205.1.24:8003]) broke: rpc error: code = Unavailable desc = error reading from server: EOF
2023/05/30 17:40:37.116700 connectWorker connecting to replica 3 (08582b [18.205.1.24:8003])
2023/05/30 17:40:37.116952 connectWorker consensus stream with replica 3 (08582b [18.205.1.24:8002]) broke: rpc error: code = Unavailable desc = error reading from server: EOF
2023/05/30 17:40:37.117037 connectWorker connecting to replica 3 (08582b [18.205.1.24:8002])
2023/05/30 17:40:37.157094 connectWorker consensus stream with replica 1 (ab6bc9 [44.213.105.71:8002]) broke: rpc error: code = Unavailable desc = error reading from server: EOF
2023/05/30 17:40:37.157187 connectWorker connecting to replica 1 (ab6bc9 [44.213.105.71:8002])
2023/05/30 17:40:37.157457 connectWorker consensus stream with replica 1 (ab6bc9 [44.213.105.71:8003]) broke: rpc error: code = Unavailable desc = error reading from server: EOF
2023/05/30 17:40:37.157495 connectWorker connecting to replica 1 (ab6bc9 [44.213.105.71:8003])
2023/05/30 17:40:37.158167 connectWorker consensus stream with replica 1 (ab6bc9 [44.213.105.71:8001]) broke: rpc error: code = Unavailable desc = error reading from server: EOF
2023/05/30 17:40:37.158238 connectWorker connecting to replica 1 (ab6bc9 [44.213.105.71:8001])
2023/05/30 17:40:37.285710 connectWorker connecting to replica 0 (89ea53 [44.204.242.59:8001])
2023/05/30 17:40:37.312216 connectWorker connection to replica 0 (89ea53 [44.204.242.59:8001]) established
panic: sync: negative WaitGroup counter

goroutine 11 [running]:
sync.(*WaitGroup).Add(0xc00011ccf0?, 0x3?)
	/root/go/src/sync/waitgroup.go:62 +0xe5
sync.(*WaitGroup).Done(...)
	/root/go/src/sync/waitgroup.go:87
github.com/IBM/mirbft/backend.(*Backend).connectWorker(0xc0000cc9a0, 0xc000068080, 0xc000074780)
	/opt/gopath/src/github.com/IBM/mirbft/backend/backend.go:198 +0x7e5
created by github.com/IBM/mirbft/backend.(*Backend).AddConnection
	/opt/gopath/src/github.com/IBM/mirbft/backend/backend.go:116 +0x4ea
