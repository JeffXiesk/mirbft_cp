{"level":"debug","Logging":"debug","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","UseTLS":false,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","CACertFile":"tls-data/ca.pem","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","KeyFile":"tls-data/auth.key","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","CertFile":"tls-data/auth.pem","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","PriorityConnections":2,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","BasicConnections":4,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","TestConnections":false,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ExcessConnections":1,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ConnectionTestMsgs":4,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ConnectionTestPayload":131072,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","OutMessageBufsize":1024,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","OutMessageBufsize":1,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ThroughputCap":131072000,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","StragglerTolerance":1000,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","BatchSizeIncrement":256,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","Orderer":"Pbft","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","Manager":"Mir","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","Failures":0,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","StragglerCnt":1,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","CrashTiming":"Straggler","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","CheckpointInterval":256,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","WatermarkWindowSize":256,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","EpochLength":256,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","SegmentLength":64,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","WaitForCheckpoints":true,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ClientWatermarkWindowSize":4194304,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ClientRequestBacklogSize":4194304,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","RandomSeed":11535,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","NodeToLeaderRatio":1,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","LeaderPolicy":"Blacklist","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","DefaultLeaderBan":2,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","NumBuckets":64,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","BatchSize":1000,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","DisabledViewChange":false,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ViewChangeTimeout":60000,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ClientTraceSampling":10,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","EventBufferSize":2097152,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","TraceSampling":1,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ClientsPerProcess":1,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","RequestsPerClient":491520,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ClientRunTime":30000,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","RequestRate":8192,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","HardRequestRateLimit":false,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","RequestPayloadSize":500,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","SignRequests":true,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ClientPrivKeyFile":"tls-data/client-ecdsa-256.key","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","ClientPubKeyFile":"tls-data/client-ecdsa-256.pem","time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","PrecomputeRequests":false,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","RequestHandlerThreads":32,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","RequestInputChannelBuffer":8192,"time":"2023-02-18T17:41:26+08:00","message":"Config"}
{"level":"debug","BatchVerifier":"external","time":"2023-02-18T17:41:26+08:00","message":"Config"}
17:41:26.860 INF Registered with discovery server. numPeers=4 ownID=2
17:41:26.861 INF Profiling enabled.
17:41:26.861 INF Setting up profiling.
17:41:26.861 INF Started Profiler: CPU
17:41:26.861 INF Started Profiler: BLOCK
17:41:26.861 INF Started Profiler: MUTEX
17:41:26.861 INF Profiler will stop on signal. exit=true
17:41:26.868 INF Tracing will stop on signal. exit=false
17:41:26.868 INF Started tracing. traceFile=experiment-output/0000/slave-004/peer.trc
17:41:26.870 DBG Starting backlog.
17:41:26.870 INF Connecting to peer. addr=127.0.0.1:10011 basicConns=4 priorityConns=2
17:41:26.870 INF Listening for connections. port=10022 useTLS=false
17:41:26.870 INF Connecting to peer. addr=127.0.0.1:10022 basicConns=4 priorityConns=2
17:41:26.870 INF Connecting to peer. addr=127.0.0.1:10000 basicConns=4 priorityConns=2
17:41:26.870 INF Connecting to peer. addr=127.0.0.1:10033 basicConns=4 priorityConns=2
17:41:26.899 INF Incoming connection for protocol messages. addr=127.0.0.1:57804
17:41:26.909 INF Incoming connection for protocol messages. addr=127.0.0.1:57820
17:41:26.911 INF Incoming connection for protocol messages. addr=127.0.0.1:57844
17:41:26.915 INF Incoming connection for protocol messages. addr=127.0.0.1:57832
17:41:26.916 INF Incoming connection for protocol messages. addr=127.0.0.1:57906
17:41:26.917 INF Incoming connection for protocol messages. addr=127.0.0.1:57878
17:41:26.919 INF Incoming connection for protocol messages. addr=127.0.0.1:57934
17:41:26.919 INF Incoming connection for protocol messages. addr=127.0.0.1:57924
17:41:26.923 INF Incoming connection for protocol messages. addr=127.0.0.1:57908
17:41:26.924 INF Incoming connection for protocol messages. addr=127.0.0.1:57910
17:41:26.926 INF Incoming connection for protocol messages. addr=127.0.0.1:57970
17:41:26.927 INF Incoming connection for protocol messages. addr=127.0.0.1:57940
17:41:26.929 INF Incoming connection for protocol messages. addr=127.0.0.1:57818
17:41:26.929 INF Incoming connection for protocol messages. addr=127.0.0.1:57862
17:41:26.929 INF Incoming connection for protocol messages. addr=127.0.0.1:57944
17:41:26.930 DBG Connected. peerID=2
17:41:26.930 INF Incoming connection for protocol messages. addr=127.0.0.1:57912
17:41:26.930 INF Incoming connection for protocol messages. addr=127.0.0.1:57982
17:41:26.935 INF Incoming connection for protocol messages. addr=127.0.0.1:57914
17:41:26.935 INF Incoming connection for protocol messages. addr=127.0.0.1:57876
17:41:26.931 INF Incoming connection for protocol messages. addr=127.0.0.1:57846
17:41:26.940 INF Incoming connection for protocol messages. addr=127.0.0.1:57954
17:41:26.940 INF Incoming connection for protocol messages. addr=127.0.0.1:57890
17:41:26.942 DBG Connected. peerID=0
17:41:26.942 DBG Connected. peerID=1
17:41:26.945 DBG Connected. peerID=3
17:41:26.946 INF Connected to all peers.
17:41:27.879 INF Incoming connection for protocol messages. addr=127.0.0.1:57996
17:41:27.880 INF Incoming connection for protocol messages. addr=127.0.0.1:57986
17:41:27.904 INF All peers finished connecting. Starting ISS.
17:41:27.904 DBG Buckets for 0-th leader 0: [0 4 8 12 16 20 24 28 32 36 40 44 48 52 56 60]
17:41:27.904 DBG Buckets for 1-th leader 1: [1 5 9 13 17 21 25 29 33 37 41 45 49 53 57 61]
17:41:27.905 DBG Buckets for 2-th leader 2: [2 6 10 14 18 22 26 30 34 38 42 46 50 54 58 62]
17:41:27.905 DBG Buckets for 3-th leader 3: [3 7 11 15 19 23 27 31 35 39 43 47 51 55 59 63]
17:41:27.905 DBG s.leaders() is [0 1 2 3]
17:41:27.905 INF PbftOrderer received a new segment: [0 4 8 12 16 20 24 28 32 36 40 44 48 52 56 60 64 68 72 76 80 84 88 92 96 100 104 108 112 116 120 124 128 132 136 140 144 148 152 156 160 164 168 172 176 180 184 188 192 196 200 204 208 212 216 220 224 228 232 236 240 244 248 252] first leader=0 firstSN=0 lastSN=252 len=64 length=64 segId=0
17:41:27.905 DBG In init !!! 
17:41:27.906 INF Starting new view. segID=0 timeout=60000 view=0
17:41:27.906 DBG Starting timer. sn=0 view=0
17:41:27.906 INF Starting PBFT instance. first=0 last=252 segID=0
17:41:27.907 DBG s.leaders() is [1 2 3 0]
17:41:27.907 INF PbftOrderer received a new segment: [1 5 9 13 17 21 25 29 33 37 41 45 49 53 57 61 65 69 73 77 81 85 89 93 97 101 105 109 113 117 121 125 129 133 137 141 145 149 153 157 161 165 169 173 177 181 185 189 193 197 201 205 209 213 217 221 225 229 233 237 241 245 249 253] first leader=1 firstSN=1 lastSN=253 len=64 length=64 segId=1
17:41:27.907 DBG In init !!! 
17:41:27.907 INF Starting new view. segID=1 timeout=60000 view=0
17:41:27.908 DBG Starting timer. sn=1 view=0
17:41:27.908 INF Starting PBFT instance. first=1 last=253 segID=1
17:41:27.908 INF Starting serialized message processing. segID=0
17:41:27.908 DBG s.leaders() is [2 3 0 1]
17:41:27.908 INF PbftOrderer received a new segment: [2 6 10 14 18 22 26 30 34 38 42 46 50 54 58 62 66 70 74 78 82 86 90 94 98 102 106 110 114 118 122 126 130 134 138 142 146 150 154 158 162 166 170 174 178 182 186 190 194 198 202 206 210 214 218 222 226 230 234 238 242 246 250 254] first leader=2 firstSN=2 lastSN=254 len=64 length=64 segId=2
17:41:27.909 DBG In init !!! 
17:41:27.909 INF Starting new view. segID=2 timeout=60000 view=0
17:41:27.909 DBG Starting timer. sn=2 view=0
17:41:27.909 INF Starting PBFT instance. first=2 last=254 segID=2
17:41:27.909 DBG s.leaders() is [3 0 1 2]
17:41:27.910 INF PbftOrderer received a new segment: [3 7 11 15 19 23 27 31 35 39 43 47 51 55 59 63 67 71 75 79 83 87 91 95 99 103 107 111 115 119 123 127 131 135 139 143 147 151 155 159 163 167 171 175 179 183 187 191 195 199 203 207 211 215 219 223 227 231 235 239 243 247 251 255] first leader=3 firstSN=3 lastSN=255 len=64 length=64 segId=3
17:41:27.910 DBG In init !!! 
17:41:27.910 INF Starting new view. segID=3 timeout=60000 view=0
17:41:27.910 DBG Starting timer. sn=3 view=0
17:41:27.911 INF Starting PBFT instance. first=3 last=255 segID=3
17:41:27.911 INF Starting serialized message processing. segID=1
17:41:27.911 DBG Subscribing to backlog. segID=0
17:41:27.911 DBG Subscribing to backlog. segID=1
17:41:27.911 DBG Subscribing to backlog. segID=2
17:41:27.911 DBG Subscribing to backlog. segID=3
17:41:27.912 DBG Leading segment. segID=2
17:41:27.912 DBG Waiting for batch. batchSize=4096
17:41:27.912 INF Starting serialized message processing. segID=2
17:41:27.912 INF Starting serialized message processing. segID=3
17:41:28.913 DBG Batch ready. batchSize=4096
17:41:28.913 DBG In lead() loop sn=2
17:41:28.913 INF enter big block cursn=2
17:41:28.913 INF cursn==snfromhtntopropose SegID=2 cursn=2
17:41:28.913 DBG Batch cut. left=0 nBuckets=16 nReq=0 next=0
17:41:28.914 DBG Waiting for batch. batchSize=4096
17:41:28.914 INF Sending PREPREPARE. nReq=0 senderID=2 sn=2 view=0
17:41:28.920 INF Handling PREPREPARE. nReq=0 senderID=3 sn=3
17:41:28.920 INF Hset. i=0 sn=3 tn=0
17:41:28.922 DBG Creating new Batch. nReq=0
17:41:28.922 DBG Sending PREPARE. senderID=2 sn=3 view=0
17:41:28.922 DBG func sendPrepare prepare Tn. sn=3 tn=1
17:41:28.923 INF Handling PREPREPARE. nReq=0 senderID=1 sn=1
17:41:28.923 INF Hset. i=0 sn=1 tn=0
17:41:28.923 DBG Creating new Batch. nReq=0
17:41:28.923 DBG Sending PREPARE. senderID=2 sn=1 view=0
17:41:28.924 DBG func sendPrepare prepare Tn. sn=1 tn=1
17:41:28.925 DBG Sending COMMIT. senderID=2 sn=1 tn=1 view=0
17:41:28.925 DBG func sendCommit commit Tn. sn=1 tn=1
17:41:28.925 DBG Sending Htn. senderID=2 sn=1 view=0
17:41:28.926 DBG Sending COMMIT. senderID=2 sn=2 tn=1 view=0
17:41:28.926 DBG func sendCommit commit Tn. sn=2 tn=1
17:41:28.926 DBG Sending COMMIT. senderID=2 sn=3 tn=1 view=0
17:41:28.926 DBG func sendCommit commit Tn. sn=3 tn=1
17:41:28.926 DBG Sending Htn. senderID=2 sn=2 view=0
17:41:28.927 DBG func handleCommit commit Tn. tn=1
17:41:28.927 DBG Sending Htn. senderID=2 sn=3 view=0
17:41:28.927 DBG func handleHtnmsg. newhtn=1 prelocalhtn=1 segment=2
17:41:28.927 DBG func handleCommit commit Tn. tn=1
17:41:28.927 DBG func handleCommit commit Tn. tn=1
17:41:28.928 DBG func handleCommit commit Tn. tn=1
17:41:28.928 INF Committed nil entry. latency=0 sn=0
17:41:28.928 INF Delivered nil batch. sn=0
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xc27c72]

goroutine 521 [running]:
github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).announce(0xc0062002c0, 0xc0062794d0, 0x3, 0x1, 0xc00606a5c0, 0x0, 0x1744e1da4844346b, 0x1744e1da48bd5a51)
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:1036 +0x6f2
github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).handleCommit(0xc0062002c0, 0xc006400360, 0xc0057fbc00)
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:939 +0x83f
github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).handleMessage(0xc0062002c0, 0xc0057fbc00)
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:2194 +0x210
github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).processSerializedMessages(0xc0062002c0)
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:2148 +0xde
created by github.com/hyperledger-labs/mirbft/orderer.(*PbftOrderer).runSegment
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftorderer.go:253 +0x3f7
